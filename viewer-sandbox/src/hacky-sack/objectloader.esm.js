import 'core-js/modules/es.symbol.description.js';
import 'core-js/modules/es.array.flat.js';
import 'core-js/modules/es.array.flat-map.js';
import 'core-js/modules/es.array.reduce.js';
import 'core-js/modules/es.array.reduce-right.js';
import 'core-js/modules/es.array.sort.js';
import 'core-js/modules/es.array.unscopables.flat.js';
import 'core-js/modules/es.array.unscopables.flat-map.js';
import 'core-js/modules/es.math.hypot.js';
import 'core-js/modules/es.object.from-entries.js';
import 'core-js/modules/es.promise.js';
import 'core-js/modules/es.promise.finally.js';
import 'core-js/modules/es.regexp.constructor.js';
import 'core-js/modules/es.regexp.exec.js';
import 'core-js/modules/es.regexp.flags.js';
import 'core-js/modules/es.string.replace.js';
import 'core-js/modules/es.typed-array.float32-array.js';
import 'core-js/modules/es.typed-array.float64-array.js';
import 'core-js/modules/es.typed-array.int8-array.js';
import 'core-js/modules/es.typed-array.int16-array.js';
import 'core-js/modules/es.typed-array.int32-array.js';
import 'core-js/modules/es.typed-array.uint8-array.js';
import 'core-js/modules/es.typed-array.uint8-clamped-array.js';
import 'core-js/modules/es.typed-array.uint16-array.js';
import 'core-js/modules/es.typed-array.uint32-array.js';
import 'core-js/modules/es.typed-array.from.js';
import 'core-js/modules/es.typed-array.of.js';
import 'core-js/modules/es.typed-array.set.js';
import 'core-js/modules/es.typed-array.sort.js';
import 'core-js/modules/esnext.aggregate-error.js';
import 'core-js/modules/esnext.array.last-index.js';
import 'core-js/modules/esnext.array.last-item.js';
import 'core-js/modules/esnext.composite-key.js';
import 'core-js/modules/esnext.composite-symbol.js';
import 'core-js/modules/esnext.global-this.js';
import 'core-js/modules/esnext.map.delete-all.js';
import 'core-js/modules/esnext.map.every.js';
import 'core-js/modules/esnext.map.filter.js';
import 'core-js/modules/esnext.map.find.js';
import 'core-js/modules/esnext.map.find-key.js';
import 'core-js/modules/esnext.map.from.js';
import 'core-js/modules/esnext.map.group-by.js';
import 'core-js/modules/esnext.map.includes.js';
import 'core-js/modules/esnext.map.key-by.js';
import 'core-js/modules/esnext.map.key-of.js';
import 'core-js/modules/esnext.map.map-keys.js';
import 'core-js/modules/esnext.map.map-values.js';
import 'core-js/modules/esnext.map.merge.js';
import 'core-js/modules/esnext.map.of.js';
import 'core-js/modules/esnext.map.reduce.js';
import 'core-js/modules/esnext.map.some.js';
import 'core-js/modules/esnext.map.update.js';
import 'core-js/modules/esnext.math.clamp.js';
import 'core-js/modules/esnext.math.deg-per-rad.js';
import 'core-js/modules/esnext.math.degrees.js';
import 'core-js/modules/esnext.math.fscale.js';
import 'core-js/modules/esnext.math.iaddh.js';
import 'core-js/modules/esnext.math.imulh.js';
import 'core-js/modules/esnext.math.isubh.js';
import 'core-js/modules/esnext.math.rad-per-deg.js';
import 'core-js/modules/esnext.math.radians.js';
import 'core-js/modules/esnext.math.scale.js';
import 'core-js/modules/esnext.math.seeded-prng.js';
import 'core-js/modules/esnext.math.signbit.js';
import 'core-js/modules/esnext.math.umulh.js';
import 'core-js/modules/esnext.number.from-string.js';
import 'core-js/modules/esnext.observable.js';
import 'core-js/modules/esnext.promise.all-settled.js';
import 'core-js/modules/esnext.promise.any.js';
import 'core-js/modules/esnext.promise.try.js';
import 'core-js/modules/esnext.reflect.define-metadata.js';
import 'core-js/modules/esnext.reflect.delete-metadata.js';
import 'core-js/modules/esnext.reflect.get-metadata.js';
import 'core-js/modules/esnext.reflect.get-metadata-keys.js';
import 'core-js/modules/esnext.reflect.get-own-metadata.js';
import 'core-js/modules/esnext.reflect.get-own-metadata-keys.js';
import 'core-js/modules/esnext.reflect.has-metadata.js';
import 'core-js/modules/esnext.reflect.has-own-metadata.js';
import 'core-js/modules/esnext.reflect.metadata.js';
import 'core-js/modules/esnext.set.add-all.js';
import 'core-js/modules/esnext.set.delete-all.js';
import 'core-js/modules/esnext.set.difference.js';
import 'core-js/modules/esnext.set.every.js';
import 'core-js/modules/esnext.set.filter.js';
import 'core-js/modules/esnext.set.find.js';
import 'core-js/modules/esnext.set.from.js';
import 'core-js/modules/esnext.set.intersection.js';
import 'core-js/modules/esnext.set.is-disjoint-from.js';
import 'core-js/modules/esnext.set.is-subset-of.js';
import 'core-js/modules/esnext.set.is-superset-of.js';
import 'core-js/modules/esnext.set.join.js';
import 'core-js/modules/esnext.set.map.js';
import 'core-js/modules/esnext.set.of.js';
import 'core-js/modules/esnext.set.reduce.js';
import 'core-js/modules/esnext.set.some.js';
import 'core-js/modules/esnext.set.symmetric-difference.js';
import 'core-js/modules/esnext.set.union.js';
import 'core-js/modules/esnext.string.at.js';
import 'core-js/modules/esnext.string.code-points.js';
import 'core-js/modules/esnext.string.match-all.js';
import 'core-js/modules/esnext.string.replace-all.js';
import 'core-js/modules/esnext.symbol.dispose.js';
import 'core-js/modules/esnext.symbol.observable.js';
import 'core-js/modules/esnext.symbol.pattern-match.js';
import 'core-js/modules/esnext.weak-map.delete-all.js';
import 'core-js/modules/esnext.weak-map.from.js';
import 'core-js/modules/esnext.weak-map.of.js';
import 'core-js/modules/esnext.weak-set.add-all.js';
import 'core-js/modules/esnext.weak-set.delete-all.js';
import 'core-js/modules/esnext.weak-set.from.js';
import 'core-js/modules/esnext.weak-set.of.js';
import 'core-js/modules/web.dom-collections.iterator.js';
import 'core-js/modules/web.immediate.js';
import 'core-js/modules/web.queue-microtask.js';
import 'core-js/modules/web.url.js';
import 'core-js/modules/web.url.to-json.js';
import 'core-js/modules/web.url-search-params.js';

/**
 * Simple client that streams object info from a Speckle Server.
 * TODO: Object construction progress reporting is weird.
 */
class ObjectLoader {
  /**
   * Creates a new object loader instance.
   * @param {*} param0
   */
  constructor(_ref) {
    let {
      serverUrl,
      streamId,
      token,
      objectId,
      options = {
        enableCaching: true,
        fullyTraverseArrays: false,
        excludeProps: [],
        fetch: null
      }
    } = _ref;
    this.INTERVAL_MS = 20;
    this.TIMEOUT_MS = 180000; // three mins

    this.serverUrl = serverUrl || window.location.origin;
    this.streamId = streamId;
    this.objectId = objectId;
    console.log('Object loader constructor called!');

    try {
      this.token = token || localStorage.getItem('AuthToken');
    } catch (error) {// Accessing localStorage may throw when executing on sandboxed document, ignore.
    }

    this.headers = {
      Accept: 'text/plain'
    };

    if (this.token) {
      this.headers['Authorization'] = "Bearer ".concat(this.token);
    }

    this.requestUrlRootObj = "".concat(this.serverUrl, "/objects/").concat(this.streamId, "/").concat(this.objectId, "/single");
    this.requestUrlChildren = "".concat(this.serverUrl, "/api/getobjects/").concat(this.streamId);
    this.promises = [];
    this.intervals = {};
    this.buffer = [];
    this.isLoading = false;
    this.totalChildrenCount = 0;
    this.traversedReferencesCount = 0;
    this.options = options;
    this.options.numConnections = this.options.numConnections || 4;
    this.cacheDB = null;
    this.lastAsyncPause = Date.now();
    this.existingAsyncPause = null; // we can't simply bind fetch to this.fetch, so instead we have to do some acrobatics:
    // https://stackoverflow.com/questions/69337187/uncaught-in-promise-typeerror-failed-to-execute-fetch-on-workerglobalscope#comment124731316_69337187

    this.preferredFetch = options.fetch;

    this.fetch = function () {
      const currentFetch = this.preferredFetch || fetch;
      return currentFetch(...arguments);
    };
  }

  async asyncPause() {
    // Don't freeze the UI
    // while ( this.existingAsyncPause ) {
    //   await this.existingAsyncPause
    // }
    if (Date.now() - this.lastAsyncPause >= 100) {
      this.lastAsyncPause = Date.now();
      this.existingAsyncPause = new Promise(resolve => setTimeout(resolve, 0));
      await this.existingAsyncPause;
      this.existingAsyncPause = null;
      if (Date.now() - this.lastAsyncPause > 500) console.log('Loader Event loop lag: ', Date.now() - this.lastAsyncPause);
    }
  }

  dispose() {
    this.buffer = [];
    this.intervals.forEach(i => clearInterval(i.interval));
  }
  /**
   * Use this method to receive and construct the object. It will return the full, de-referenced and de-chunked original object.
   * @param {*} onProgress
   * @returns
   */


  async getAndConstructObject(onProgress) {
    await this.downloadObjectsInBuffer(onProgress); // Fire and forget; PS: semicolon of doom

    const rootObject = await this.getObject(this.objectId);
    return this.traverseAndConstruct(rootObject, onProgress);
  }
  /**
   * Internal function used to download all the objects in a local buffer.
   * @param {*} onProgress
   */


  async downloadObjectsInBuffer(onProgress) {
    let first = true;
    let downloadNum = 0;

    for await (const obj of this.getObjectIterator()) {
      if (first) {
        this.totalChildrenCount = obj.totalChildrenCount;
        first = false;
        this.isLoading = true;
      }

      downloadNum++;
      if (onProgress) onProgress({
        stage: 'download',
        current: downloadNum,
        total: this.totalChildrenCount
      });
    }

    this.isLoading = false;
  }
  /**
   * Internal function used to recursively traverse an object and populate its references and dechunk any arrays.
   * @param {*} obj
   * @param {*} onProgress
   * @returns
   */


  async traverseAndConstruct(obj, onProgress) {
    if (!obj) return;
    if (typeof obj !== 'object') return obj; // Handle arrays

    if (Array.isArray(obj) && obj.length !== 0) {
      var _arr$, _arr$$speckle_type;

      const arr = [];

      for (const element of obj) {
        if (typeof element !== 'object' && !this.options.fullyTraverseArrays) return obj; // Dereference element if needed

        const deRef = element.referencedId ? await this.getObject(element.referencedId) : element;
        if (element.referencedId && onProgress) onProgress({
          stage: 'construction',
          current: ++this.traversedReferencesCount > this.totalChildrenCount ? this.totalChildrenCount : this.traversedReferencesCount,
          total: this.totalChildrenCount
        }); // Push the traversed object in the array

        arr.push(await this.traverseAndConstruct(deRef, onProgress));
      } // De-chunk


      if ((_arr$ = arr[0]) !== null && _arr$ !== void 0 && (_arr$$speckle_type = _arr$.speckle_type) !== null && _arr$$speckle_type !== void 0 && _arr$$speckle_type.toLowerCase().includes('datachunk')) {
        return arr.reduce((prev, curr) => prev.concat(curr.data), []);
      }

      return arr;
    } // Handle objects
    // 1) Purge ignored props


    for (const ignoredProp of this.options.excludeProps) {
      delete obj[ignoredProp];
    } // 2) Iterate through obj


    for (const prop in obj) {
      if (typeof obj[prop] !== 'object' || obj[prop] === null) continue; // leave alone primitive props

      if (obj[prop].referencedId) {
        obj[prop] = await this.getObject(obj[prop].referencedId);
        if (onProgress) onProgress({
          stage: 'construction',
          current: ++this.traversedReferencesCount > this.totalChildrenCount ? this.totalChildrenCount : this.traversedReferencesCount,
          total: this.totalChildrenCount
        });
      }

      obj[prop] = await this.traverseAndConstruct(obj[prop], onProgress);
    }

    return obj;
  }
  /**
   * Internal function. Returns a promise that is resolved when the object id is loaded into the internal buffer.
   * @param {*} id
   * @returns
   */


  async getObject(id) {
    if (this.buffer[id]) return this.buffer[id];
    const promise = new Promise((resolve, reject) => {
      this.promises.push({
        id,
        resolve,
        reject
      }); // Only create a new interval checker if none is already present!

      if (this.intervals[id]) {
        this.intervals[id].elapsed = 0; // reset elapsed
      } else {
        const intervalId = setInterval(this.tryResolvePromise.bind(this), this.INTERVAL_MS, id);
        this.intervals[id] = {
          interval: intervalId,
          elapsed: 0
        };
      }
    });
    return promise;
  }

  tryResolvePromise(id) {
    this.intervals[id].elapsed += this.INTERVAL_MS;

    if (this.buffer[id]) {
      for (const p of this.promises.filter(p => p.id === id)) {
        p.resolve(this.buffer[id]);
      }

      clearInterval(this.intervals[id].interval);
      delete this.intervals[id]; // this.promises = this.promises.filter( p => p.id !== p.id ) // clearing out promises too early seems to nuke loading

      return;
    }

    if (this.intervals[id].elapsed > this.TIMEOUT_MS) {
      console.warn("Timeout resolving ".concat(id, ". HIC SVNT DRACONES."));
      clearInterval(this.intervals[id].interval);
      this.promises.filter(p => p.id === id).forEach(p => p.reject());
      this.promises = this.promises.filter(p => p.id !== p.id); // clear out
    }
  }

  async *getObjectIterator() {
    const t0 = Date.now();
    let count = 0;

    for await (const line of this.getRawObjectIterator()) {
      const {
        id,
        obj
      } = this.processLine(line);
      this.buffer[id] = obj;
      count += 1;
      yield obj;
    }

    console.log("Loaded ".concat(count, " objects in: ").concat((Date.now() - t0) / 1000));
  }

  processLine(chunk) {
    const pieces = chunk.split('\t');
    return {
      id: pieces[0],
      obj: JSON.parse(pieces[1])
    };
  }

  async *getRawObjectIterator() {
    if (this.options.enableCaching && window.indexedDB && this.cacheDB === null) {
      await safariFix();
      const idbOpenRequest = indexedDB.open('speckle-object-cache', 1);

      idbOpenRequest.onupgradeneeded = () => idbOpenRequest.result.createObjectStore('objects');

      this.cacheDB = await this.promisifyIdbRequest(idbOpenRequest);
    }

    const rootObjJson = await this.getRawRootObject(); // console.log("Root in: ", Date.now() - tSTART)

    yield "".concat(this.objectId, "\t").concat(rootObjJson);
    const rootObj = JSON.parse(rootObjJson);
    if (!rootObj.__closure) return;
    let childrenIds = Object.keys(rootObj.__closure).sort((a, b) => rootObj.__closure[a] - rootObj.__closure[b]);
    if (childrenIds.length === 0) return;
    let splitHttpRequests = [];

    if (childrenIds.length > 50) {
      // split into 5%, 15%, 40%, 40% (5% for the high priority children: the ones with lower minDepth)
      const splitBeforeCacheCheck = [[], [], [], []];
      let crtChildIndex = 0;

      for (; crtChildIndex < 0.05 * childrenIds.length; crtChildIndex++) {
        splitBeforeCacheCheck[0].push(childrenIds[crtChildIndex]);
      }

      for (; crtChildIndex < 0.2 * childrenIds.length; crtChildIndex++) {
        splitBeforeCacheCheck[1].push(childrenIds[crtChildIndex]);
      }

      for (; crtChildIndex < 0.6 * childrenIds.length; crtChildIndex++) {
        splitBeforeCacheCheck[2].push(childrenIds[crtChildIndex]);
      }

      for (; crtChildIndex < childrenIds.length; crtChildIndex++) {
        splitBeforeCacheCheck[3].push(childrenIds[crtChildIndex]);
      }

      console.log('Cache check for: ', splitBeforeCacheCheck);
      const newChildren = [];
      let nextCachePromise = this.cacheGetObjects(splitBeforeCacheCheck[0]);

      for (let i = 0; i < 4; i++) {
        const cachedObjects = await nextCachePromise;
        if (i < 3) nextCachePromise = this.cacheGetObjects(splitBeforeCacheCheck[i + 1]);
        const sortedCachedKeys = Object.keys(cachedObjects).sort((a, b) => rootObj.__closure[a] - rootObj.__closure[b]);

        for (const id of sortedCachedKeys) {
          yield "".concat(id, "\t").concat(cachedObjects[id]);
        }

        const newChildrenForBatch = splitBeforeCacheCheck[i].filter(id => !(id in cachedObjects));
        newChildren.push(...newChildrenForBatch);
      }

      if (newChildren.length === 0) return;

      if (newChildren.length <= 50) {
        // we have almost all of children in the cache. do only 1 requests for the remaining new children
        splitHttpRequests.push(newChildren);
      } else {
        // we now set up the batches for 4 http requests, starting from `newChildren` (already sorted by priority)
        splitHttpRequests = [[], [], [], []];
        crtChildIndex = 0;

        for (; crtChildIndex < 0.05 * newChildren.length; crtChildIndex++) {
          splitHttpRequests[0].push(newChildren[crtChildIndex]);
        }

        for (; crtChildIndex < 0.2 * newChildren.length; crtChildIndex++) {
          splitHttpRequests[1].push(newChildren[crtChildIndex]);
        }

        for (; crtChildIndex < 0.6 * newChildren.length; crtChildIndex++) {
          splitHttpRequests[2].push(newChildren[crtChildIndex]);
        }

        for (; crtChildIndex < newChildren.length; crtChildIndex++) {
          splitHttpRequests[3].push(newChildren[crtChildIndex]);
        }
      }
    } else {
      // small object with <= 50 children. check cache and make only 1 request
      const cachedObjects = await this.cacheGetObjects(childrenIds);
      const sortedCachedKeys = Object.keys(cachedObjects).sort((a, b) => rootObj.__closure[a] - rootObj.__closure[b]);

      for (const id of sortedCachedKeys) {
        yield "".concat(id, "\t").concat(cachedObjects[id]);
      }

      childrenIds = childrenIds.filter(id => !(id in cachedObjects));
      if (childrenIds.length === 0) return; // only 1 http request with the remaining children ( <= 50 )

      splitHttpRequests.push(childrenIds);
    } // Starting http requests for batches in `splitHttpRequests`


    const decoders = [];
    const readers = [];
    const readPromises = [];
    const readBuffers = [];
    const finishedRequests = [];

    for (let i = 0; i < splitHttpRequests.length; i++) {
      decoders.push(new TextDecoder());
      readers.push(null);
      readPromises.push(null);
      readBuffers.push('');
      finishedRequests.push(false);
      this.fetch(this.requestUrlChildren, {
        method: 'POST',
        headers: { ...this.headers,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          objects: JSON.stringify(splitHttpRequests[i])
        })
      }).then(crtResponse => {
        const crtReader = crtResponse.body.getReader();
        readers[i] = crtReader;
        const crtReadPromise = crtReader.read().then(x => {
          x.reqId = i;
          return x;
        });
        readPromises[i] = crtReadPromise;
      });
    }

    while (true) {
      const validReadPromises = readPromises.filter(x => !!x);

      if (validReadPromises.length === 0) {
        // Check if all requests finished
        if (finishedRequests.every(x => x)) {
          break;
        } // Sleep 10 ms


        await new Promise(resolve => {
          setTimeout(resolve, 10);
        });
        continue;
      } // Wait for data on any running request


      const data = await Promise.any(validReadPromises); // eslint-disable-next-line prefer-const

      let {
        value: crtDataChunk,
        done: readerDone,
        reqId
      } = data;
      finishedRequests[reqId] = readerDone; // Replace read promise on this request with a new `read` call

      if (!readerDone) {
        const crtReadPromise = readers[reqId].read().then(x => {
          x.reqId = reqId;
          return x;
        });
        readPromises[reqId] = crtReadPromise;
      } else {
        // This request finished. "Flush any non-newline-terminated text"
        if (readBuffers[reqId].length > 0) {
          yield readBuffers[reqId];
          readBuffers[reqId] = '';
        } // no other read calls for this request


        readPromises[reqId] = null;
      }

      if (!crtDataChunk) continue;
      crtDataChunk = decoders[reqId].decode(crtDataChunk);
      const unprocessedText = readBuffers[reqId] + crtDataChunk;
      const unprocessedLines = unprocessedText.split(/\r\n|\n|\r/);
      const remainderText = unprocessedLines.pop();
      readBuffers[reqId] = remainderText;

      for (const line of unprocessedLines) {
        yield line;
      }

      this.cacheStoreObjects(unprocessedLines);
    }
  }

  async getRawRootObject() {
    const cachedRootObject = await this.cacheGetObjects([this.objectId]);
    if (cachedRootObject[this.objectId]) return cachedRootObject[this.objectId];
    const response = await this.fetch(this.requestUrlRootObj, {
      headers: this.headers
    });
    const responseText = await response.text();
    this.cacheStoreObjects(["".concat(this.objectId, "\t").concat(responseText)]);
    return responseText;
  }

  promisifyIdbRequest(request) {
    return new Promise((resolve, reject) => {
      request.oncomplete = request.onsuccess = () => resolve(request.result);

      request.onabort = request.onerror = () => reject(request.error);
    });
  }

  async cacheGetObjects(ids) {
    if (!this.options.enableCaching || !window.indexedDB) {
      return {};
    }

    const ret = {};

    for (let i = 0; i < ids.length; i += 500) {
      const idsChunk = ids.slice(i, i + 500);
      const store = this.cacheDB.transaction('objects', 'readonly').objectStore('objects');
      const idbChildrenPromises = idsChunk.map(id => this.promisifyIdbRequest(store.get(id)).then(data => ({
        id,
        data
      })));
      const cachedData = await Promise.all(idbChildrenPromises); // console.log("Cache check for : ", idsChunk.length, Date.now() - t0)

      for (const cachedObj of cachedData) {
        if (!cachedObj.data) // non-existent objects are retrieved with `undefined` data
          continue;
        ret[cachedObj.id] = cachedObj.data;
      }
    }

    return ret;
  }

  cacheStoreObjects(objects) {
    if (!this.options.enableCaching || !window.indexedDB) {
      return {};
    }

    const store = this.cacheDB.transaction('objects', 'readwrite').objectStore('objects');

    for (const obj of objects) {
      const idAndData = obj.split('\t');
      store.put(idAndData[1], idAndData[0]);
    }

    return this.promisifyIdbRequest(store.transaction);
  }

} // Credits and more info: https://github.com/jakearchibald/safari-14-idb-fix

function safariFix() {
  const isSafari = !navigator.userAgentData && /Safari\//.test(navigator.userAgent) && !/Chrom(e|ium)\//.test(navigator.userAgent); // No point putting other browsers or older versions of Safari through this mess.

  if (!isSafari || !indexedDB.databases) return Promise.resolve();
  let intervalId;
  return new Promise(resolve => {
    const tryIdb = () => indexedDB.databases().finally(resolve);

    intervalId = setInterval(tryIdb, 100);
    tryIdb();
  }).finally(() => clearInterval(intervalId));
}

export { ObjectLoader as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib2JqZWN0bG9hZGVyLmVzbS5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBPTFlGSUxMU1xyXG5pbXBvcnQgJ2NvcmUtanMnXHJcbmltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lJ1xyXG5cclxuLyoqXHJcbiAqIFNpbXBsZSBjbGllbnQgdGhhdCBzdHJlYW1zIG9iamVjdCBpbmZvIGZyb20gYSBTcGVja2xlIFNlcnZlci5cclxuICogVE9ETzogT2JqZWN0IGNvbnN0cnVjdGlvbiBwcm9ncmVzcyByZXBvcnRpbmcgaXMgd2VpcmQuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JqZWN0TG9hZGVyIHtcclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IG9iamVjdCBsb2FkZXIgaW5zdGFuY2UuXHJcbiAgICogQHBhcmFtIHsqfSBwYXJhbTBcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcih7XHJcbiAgICBzZXJ2ZXJVcmwsXHJcbiAgICBzdHJlYW1JZCxcclxuICAgIHRva2VuLFxyXG4gICAgb2JqZWN0SWQsXHJcbiAgICBvcHRpb25zID0ge1xyXG4gICAgICBlbmFibGVDYWNoaW5nOiB0cnVlLFxyXG4gICAgICBmdWxseVRyYXZlcnNlQXJyYXlzOiBmYWxzZSxcclxuICAgICAgZXhjbHVkZVByb3BzOiBbXSxcclxuICAgICAgZmV0Y2g6IG51bGxcclxuICAgIH1cclxuICB9KSB7XHJcbiAgICB0aGlzLklOVEVSVkFMX01TID0gMjBcclxuICAgIHRoaXMuVElNRU9VVF9NUyA9IDE4MDAwMCAvLyB0aHJlZSBtaW5zXHJcblxyXG4gICAgdGhpcy5zZXJ2ZXJVcmwgPSBzZXJ2ZXJVcmwgfHwgd2luZG93LmxvY2F0aW9uLm9yaWdpblxyXG4gICAgdGhpcy5zdHJlYW1JZCA9IHN0cmVhbUlkXHJcbiAgICB0aGlzLm9iamVjdElkID0gb2JqZWN0SWRcclxuICAgIGNvbnNvbGUubG9nKCdPYmplY3QgbG9hZGVyIGNvbnN0cnVjdG9yIGNhbGxlZCEnKVxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy50b2tlbiA9IHRva2VuIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdBdXRoVG9rZW4nKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8gQWNjZXNzaW5nIGxvY2FsU3RvcmFnZSBtYXkgdGhyb3cgd2hlbiBleGVjdXRpbmcgb24gc2FuZGJveGVkIGRvY3VtZW50LCBpZ25vcmUuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5oZWFkZXJzID0ge1xyXG4gICAgICBBY2NlcHQ6ICd0ZXh0L3BsYWluJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnRva2VuKSB7XHJcbiAgICAgIHRoaXMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3RoaXMudG9rZW59YFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVxdWVzdFVybFJvb3RPYmogPSBgJHt0aGlzLnNlcnZlclVybH0vb2JqZWN0cy8ke3RoaXMuc3RyZWFtSWR9LyR7dGhpcy5vYmplY3RJZH0vc2luZ2xlYFxyXG4gICAgdGhpcy5yZXF1ZXN0VXJsQ2hpbGRyZW4gPSBgJHt0aGlzLnNlcnZlclVybH0vYXBpL2dldG9iamVjdHMvJHt0aGlzLnN0cmVhbUlkfWBcclxuICAgIHRoaXMucHJvbWlzZXMgPSBbXVxyXG4gICAgdGhpcy5pbnRlcnZhbHMgPSB7fVxyXG4gICAgdGhpcy5idWZmZXIgPSBbXVxyXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxyXG4gICAgdGhpcy50b3RhbENoaWxkcmVuQ291bnQgPSAwXHJcbiAgICB0aGlzLnRyYXZlcnNlZFJlZmVyZW5jZXNDb3VudCA9IDBcclxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcclxuICAgIHRoaXMub3B0aW9ucy5udW1Db25uZWN0aW9ucyA9IHRoaXMub3B0aW9ucy5udW1Db25uZWN0aW9ucyB8fCA0XHJcblxyXG4gICAgdGhpcy5jYWNoZURCID0gbnVsbFxyXG5cclxuICAgIHRoaXMubGFzdEFzeW5jUGF1c2UgPSBEYXRlLm5vdygpXHJcbiAgICB0aGlzLmV4aXN0aW5nQXN5bmNQYXVzZSA9IG51bGxcclxuXHJcbiAgICAvLyB3ZSBjYW4ndCBzaW1wbHkgYmluZCBmZXRjaCB0byB0aGlzLmZldGNoLCBzbyBpbnN0ZWFkIHdlIGhhdmUgdG8gZG8gc29tZSBhY3JvYmF0aWNzOlxyXG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjkzMzcxODcvdW5jYXVnaHQtaW4tcHJvbWlzZS10eXBlZXJyb3ItZmFpbGVkLXRvLWV4ZWN1dGUtZmV0Y2gtb24td29ya2VyZ2xvYmFsc2NvcGUjY29tbWVudDEyNDczMTMxNl82OTMzNzE4N1xyXG4gICAgdGhpcy5wcmVmZXJyZWRGZXRjaCA9IG9wdGlvbnMuZmV0Y2hcclxuICAgIHRoaXMuZmV0Y2ggPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICBjb25zdCBjdXJyZW50RmV0Y2ggPSB0aGlzLnByZWZlcnJlZEZldGNoIHx8IGZldGNoXHJcbiAgICAgIHJldHVybiBjdXJyZW50RmV0Y2goLi4uYXJncylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGFzeW5jUGF1c2UoKSB7XHJcbiAgICAvLyBEb24ndCBmcmVlemUgdGhlIFVJXHJcbiAgICAvLyB3aGlsZSAoIHRoaXMuZXhpc3RpbmdBc3luY1BhdXNlICkge1xyXG4gICAgLy8gICBhd2FpdCB0aGlzLmV4aXN0aW5nQXN5bmNQYXVzZVxyXG4gICAgLy8gfVxyXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RBc3luY1BhdXNlID49IDEwMCkge1xyXG4gICAgICB0aGlzLmxhc3RBc3luY1BhdXNlID0gRGF0ZS5ub3coKVxyXG4gICAgICB0aGlzLmV4aXN0aW5nQXN5bmNQYXVzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKVxyXG4gICAgICBhd2FpdCB0aGlzLmV4aXN0aW5nQXN5bmNQYXVzZVxyXG4gICAgICB0aGlzLmV4aXN0aW5nQXN5bmNQYXVzZSA9IG51bGxcclxuICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RBc3luY1BhdXNlID4gNTAwKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2FkZXIgRXZlbnQgbG9vcCBsYWc6ICcsIERhdGUubm93KCkgLSB0aGlzLmxhc3RBc3luY1BhdXNlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIHRoaXMuYnVmZmVyID0gW11cclxuICAgIHRoaXMuaW50ZXJ2YWxzLmZvckVhY2goKGkpID0+IGNsZWFySW50ZXJ2YWwoaS5pbnRlcnZhbCkpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVjZWl2ZSBhbmQgY29uc3RydWN0IHRoZSBvYmplY3QuIEl0IHdpbGwgcmV0dXJuIHRoZSBmdWxsLCBkZS1yZWZlcmVuY2VkIGFuZCBkZS1jaHVua2VkIG9yaWdpbmFsIG9iamVjdC5cclxuICAgKiBAcGFyYW0geyp9IG9uUHJvZ3Jlc3NcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIGFzeW5jIGdldEFuZENvbnN0cnVjdE9iamVjdChvblByb2dyZXNzKSB7XHJcbiAgICBhd2FpdCB0aGlzLmRvd25sb2FkT2JqZWN0c0luQnVmZmVyKG9uUHJvZ3Jlc3MpIC8vIEZpcmUgYW5kIGZvcmdldDsgUFM6IHNlbWljb2xvbiBvZiBkb29tXHJcblxyXG4gICAgY29uc3Qgcm9vdE9iamVjdCA9IGF3YWl0IHRoaXMuZ2V0T2JqZWN0KHRoaXMub2JqZWN0SWQpXHJcbiAgICByZXR1cm4gdGhpcy50cmF2ZXJzZUFuZENvbnN0cnVjdChyb290T2JqZWN0LCBvblByb2dyZXNzKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZnVuY3Rpb24gdXNlZCB0byBkb3dubG9hZCBhbGwgdGhlIG9iamVjdHMgaW4gYSBsb2NhbCBidWZmZXIuXHJcbiAgICogQHBhcmFtIHsqfSBvblByb2dyZXNzXHJcbiAgICovXHJcbiAgYXN5bmMgZG93bmxvYWRPYmplY3RzSW5CdWZmZXIob25Qcm9ncmVzcykge1xyXG4gICAgbGV0IGZpcnN0ID0gdHJ1ZVxyXG4gICAgbGV0IGRvd25sb2FkTnVtID0gMFxyXG5cclxuICAgIGZvciBhd2FpdCAoY29uc3Qgb2JqIG9mIHRoaXMuZ2V0T2JqZWN0SXRlcmF0b3IoKSkge1xyXG4gICAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICB0aGlzLnRvdGFsQ2hpbGRyZW5Db3VudCA9IG9iai50b3RhbENoaWxkcmVuQ291bnRcclxuICAgICAgICBmaXJzdCA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgICAgZG93bmxvYWROdW0rK1xyXG4gICAgICBpZiAob25Qcm9ncmVzcylcclxuICAgICAgICBvblByb2dyZXNzKHtcclxuICAgICAgICAgIHN0YWdlOiAnZG93bmxvYWQnLFxyXG4gICAgICAgICAgY3VycmVudDogZG93bmxvYWROdW0sXHJcbiAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbENoaWxkcmVuQ291bnRcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW50ZXJuYWwgZnVuY3Rpb24gdXNlZCB0byByZWN1cnNpdmVseSB0cmF2ZXJzZSBhbiBvYmplY3QgYW5kIHBvcHVsYXRlIGl0cyByZWZlcmVuY2VzIGFuZCBkZWNodW5rIGFueSBhcnJheXMuXHJcbiAgICogQHBhcmFtIHsqfSBvYmpcclxuICAgKiBAcGFyYW0geyp9IG9uUHJvZ3Jlc3NcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIGFzeW5jIHRyYXZlcnNlQW5kQ29uc3RydWN0KG9iaiwgb25Qcm9ncmVzcykge1xyXG4gICAgaWYgKCFvYmopIHJldHVyblxyXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSByZXR1cm4gb2JqXHJcblxyXG4gICAgLy8gSGFuZGxlIGFycmF5c1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSAmJiBvYmoubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIGNvbnN0IGFyciA9IFtdXHJcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBvYmopIHtcclxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT09ICdvYmplY3QnICYmICF0aGlzLm9wdGlvbnMuZnVsbHlUcmF2ZXJzZUFycmF5cykgcmV0dXJuIG9ialxyXG5cclxuICAgICAgICAvLyBEZXJlZmVyZW5jZSBlbGVtZW50IGlmIG5lZWRlZFxyXG4gICAgICAgIGNvbnN0IGRlUmVmID0gZWxlbWVudC5yZWZlcmVuY2VkSWRcclxuICAgICAgICAgID8gYXdhaXQgdGhpcy5nZXRPYmplY3QoZWxlbWVudC5yZWZlcmVuY2VkSWQpXHJcbiAgICAgICAgICA6IGVsZW1lbnRcclxuICAgICAgICBpZiAoZWxlbWVudC5yZWZlcmVuY2VkSWQgJiYgb25Qcm9ncmVzcylcclxuICAgICAgICAgIG9uUHJvZ3Jlc3Moe1xyXG4gICAgICAgICAgICBzdGFnZTogJ2NvbnN0cnVjdGlvbicsXHJcbiAgICAgICAgICAgIGN1cnJlbnQ6XHJcbiAgICAgICAgICAgICAgKyt0aGlzLnRyYXZlcnNlZFJlZmVyZW5jZXNDb3VudCA+IHRoaXMudG90YWxDaGlsZHJlbkNvdW50XHJcbiAgICAgICAgICAgICAgICA/IHRoaXMudG90YWxDaGlsZHJlbkNvdW50XHJcbiAgICAgICAgICAgICAgICA6IHRoaXMudHJhdmVyc2VkUmVmZXJlbmNlc0NvdW50LFxyXG4gICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbENoaWxkcmVuQ291bnRcclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIFB1c2ggdGhlIHRyYXZlcnNlZCBvYmplY3QgaW4gdGhlIGFycmF5XHJcbiAgICAgICAgYXJyLnB1c2goYXdhaXQgdGhpcy50cmF2ZXJzZUFuZENvbnN0cnVjdChkZVJlZiwgb25Qcm9ncmVzcykpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERlLWNodW5rXHJcbiAgICAgIGlmIChhcnJbMF0/LnNwZWNrbGVfdHlwZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZGF0YWNodW5rJykpIHtcclxuICAgICAgICByZXR1cm4gYXJyLnJlZHVjZSgocHJldiwgY3VycikgPT4gcHJldi5jb25jYXQoY3Vyci5kYXRhKSwgW10pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBhcnJcclxuICAgIH1cclxuXHJcbiAgICAvLyBIYW5kbGUgb2JqZWN0c1xyXG4gICAgLy8gMSkgUHVyZ2UgaWdub3JlZCBwcm9wc1xyXG4gICAgZm9yIChjb25zdCBpZ25vcmVkUHJvcCBvZiB0aGlzLm9wdGlvbnMuZXhjbHVkZVByb3BzKSB7XHJcbiAgICAgIGRlbGV0ZSBvYmpbaWdub3JlZFByb3BdXHJcbiAgICB9XHJcblxyXG4gICAgLy8gMikgSXRlcmF0ZSB0aHJvdWdoIG9ialxyXG4gICAgZm9yIChjb25zdCBwcm9wIGluIG9iaikge1xyXG4gICAgICBpZiAodHlwZW9mIG9ialtwcm9wXSAhPT0gJ29iamVjdCcgfHwgb2JqW3Byb3BdID09PSBudWxsKSBjb250aW51ZSAvLyBsZWF2ZSBhbG9uZSBwcmltaXRpdmUgcHJvcHNcclxuXHJcbiAgICAgIGlmIChvYmpbcHJvcF0ucmVmZXJlbmNlZElkKSB7XHJcbiAgICAgICAgb2JqW3Byb3BdID0gYXdhaXQgdGhpcy5nZXRPYmplY3Qob2JqW3Byb3BdLnJlZmVyZW5jZWRJZClcclxuICAgICAgICBpZiAob25Qcm9ncmVzcylcclxuICAgICAgICAgIG9uUHJvZ3Jlc3Moe1xyXG4gICAgICAgICAgICBzdGFnZTogJ2NvbnN0cnVjdGlvbicsXHJcbiAgICAgICAgICAgIGN1cnJlbnQ6XHJcbiAgICAgICAgICAgICAgKyt0aGlzLnRyYXZlcnNlZFJlZmVyZW5jZXNDb3VudCA+IHRoaXMudG90YWxDaGlsZHJlbkNvdW50XHJcbiAgICAgICAgICAgICAgICA/IHRoaXMudG90YWxDaGlsZHJlbkNvdW50XHJcbiAgICAgICAgICAgICAgICA6IHRoaXMudHJhdmVyc2VkUmVmZXJlbmNlc0NvdW50LFxyXG4gICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbENoaWxkcmVuQ291bnRcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG9ialtwcm9wXSA9IGF3YWl0IHRoaXMudHJhdmVyc2VBbmRDb25zdHJ1Y3Qob2JqW3Byb3BdLCBvblByb2dyZXNzKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvYmpcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEludGVybmFsIGZ1bmN0aW9uLiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIG9iamVjdCBpZCBpcyBsb2FkZWQgaW50byB0aGUgaW50ZXJuYWwgYnVmZmVyLlxyXG4gICAqIEBwYXJhbSB7Kn0gaWRcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIGFzeW5jIGdldE9iamVjdChpZCkge1xyXG4gICAgaWYgKHRoaXMuYnVmZmVyW2lkXSkgcmV0dXJuIHRoaXMuYnVmZmVyW2lkXVxyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMucHJvbWlzZXMucHVzaCh7IGlkLCByZXNvbHZlLCByZWplY3QgfSlcclxuICAgICAgLy8gT25seSBjcmVhdGUgYSBuZXcgaW50ZXJ2YWwgY2hlY2tlciBpZiBub25lIGlzIGFscmVhZHkgcHJlc2VudCFcclxuICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxzW2lkXSkge1xyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxzW2lkXS5lbGFwc2VkID0gMCAvLyByZXNldCBlbGFwc2VkXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKFxyXG4gICAgICAgICAgdGhpcy50cnlSZXNvbHZlUHJvbWlzZS5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgdGhpcy5JTlRFUlZBTF9NUyxcclxuICAgICAgICAgIGlkXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxzW2lkXSA9IHsgaW50ZXJ2YWw6IGludGVydmFsSWQsIGVsYXBzZWQ6IDAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHByb21pc2VcclxuICB9XHJcblxyXG4gIHRyeVJlc29sdmVQcm9taXNlKGlkKSB7XHJcbiAgICB0aGlzLmludGVydmFsc1tpZF0uZWxhcHNlZCArPSB0aGlzLklOVEVSVkFMX01TXHJcbiAgICBpZiAodGhpcy5idWZmZXJbaWRdKSB7XHJcbiAgICAgIGZvciAoY29uc3QgcCBvZiB0aGlzLnByb21pc2VzLmZpbHRlcigocCkgPT4gcC5pZCA9PT0gaWQpKSB7XHJcbiAgICAgICAgcC5yZXNvbHZlKHRoaXMuYnVmZmVyW2lkXSlcclxuICAgICAgfVxyXG5cclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsc1tpZF0uaW50ZXJ2YWwpXHJcbiAgICAgIGRlbGV0ZSB0aGlzLmludGVydmFsc1tpZF1cclxuICAgICAgLy8gdGhpcy5wcm9taXNlcyA9IHRoaXMucHJvbWlzZXMuZmlsdGVyKCBwID0+IHAuaWQgIT09IHAuaWQgKSAvLyBjbGVhcmluZyBvdXQgcHJvbWlzZXMgdG9vIGVhcmx5IHNlZW1zIHRvIG51a2UgbG9hZGluZ1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbHNbaWRdLmVsYXBzZWQgPiB0aGlzLlRJTUVPVVRfTVMpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBUaW1lb3V0IHJlc29sdmluZyAke2lkfS4gSElDIFNWTlQgRFJBQ09ORVMuYClcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsc1tpZF0uaW50ZXJ2YWwpXHJcbiAgICAgIHRoaXMucHJvbWlzZXMuZmlsdGVyKChwKSA9PiBwLmlkID09PSBpZCkuZm9yRWFjaCgocCkgPT4gcC5yZWplY3QoKSlcclxuICAgICAgdGhpcy5wcm9taXNlcyA9IHRoaXMucHJvbWlzZXMuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBwLmlkKSAvLyBjbGVhciBvdXRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jICpnZXRPYmplY3RJdGVyYXRvcigpIHtcclxuICAgIGNvbnN0IHQwID0gRGF0ZS5ub3coKVxyXG4gICAgbGV0IGNvdW50ID0gMFxyXG4gICAgZm9yIGF3YWl0IChjb25zdCBsaW5lIG9mIHRoaXMuZ2V0UmF3T2JqZWN0SXRlcmF0b3IoKSkge1xyXG4gICAgICBjb25zdCB7IGlkLCBvYmogfSA9IHRoaXMucHJvY2Vzc0xpbmUobGluZSlcclxuICAgICAgdGhpcy5idWZmZXJbaWRdID0gb2JqXHJcbiAgICAgIGNvdW50ICs9IDFcclxuICAgICAgeWllbGQgb2JqXHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhgTG9hZGVkICR7Y291bnR9IG9iamVjdHMgaW46ICR7KERhdGUubm93KCkgLSB0MCkgLyAxMDAwfWApXHJcbiAgfVxyXG5cclxuICBwcm9jZXNzTGluZShjaHVuaykge1xyXG4gICAgY29uc3QgcGllY2VzID0gY2h1bmsuc3BsaXQoJ1xcdCcpXHJcbiAgICByZXR1cm4geyBpZDogcGllY2VzWzBdLCBvYmo6IEpTT04ucGFyc2UocGllY2VzWzFdKSB9XHJcbiAgfVxyXG5cclxuICBhc3luYyAqZ2V0UmF3T2JqZWN0SXRlcmF0b3IoKSB7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUNhY2hpbmcgJiYgd2luZG93LmluZGV4ZWREQiAmJiB0aGlzLmNhY2hlREIgPT09IG51bGwpIHtcclxuICAgICAgYXdhaXQgc2FmYXJpRml4KClcclxuICAgICAgY29uc3QgaWRiT3BlblJlcXVlc3QgPSBpbmRleGVkREIub3Blbignc3BlY2tsZS1vYmplY3QtY2FjaGUnLCAxKVxyXG4gICAgICBpZGJPcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PlxyXG4gICAgICAgIGlkYk9wZW5SZXF1ZXN0LnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZSgnb2JqZWN0cycpXHJcbiAgICAgIHRoaXMuY2FjaGVEQiA9IGF3YWl0IHRoaXMucHJvbWlzaWZ5SWRiUmVxdWVzdChpZGJPcGVuUmVxdWVzdClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByb290T2JqSnNvbiA9IGF3YWl0IHRoaXMuZ2V0UmF3Um9vdE9iamVjdCgpXHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIlJvb3QgaW46IFwiLCBEYXRlLm5vdygpIC0gdFNUQVJUKVxyXG5cclxuICAgIHlpZWxkIGAke3RoaXMub2JqZWN0SWR9XFx0JHtyb290T2JqSnNvbn1gXHJcblxyXG4gICAgY29uc3Qgcm9vdE9iaiA9IEpTT04ucGFyc2Uocm9vdE9iakpzb24pXHJcbiAgICBpZiAoIXJvb3RPYmouX19jbG9zdXJlKSByZXR1cm5cclxuXHJcbiAgICBsZXQgY2hpbGRyZW5JZHMgPSBPYmplY3Qua2V5cyhyb290T2JqLl9fY2xvc3VyZSkuc29ydChcclxuICAgICAgKGEsIGIpID0+IHJvb3RPYmouX19jbG9zdXJlW2FdIC0gcm9vdE9iai5fX2Nsb3N1cmVbYl1cclxuICAgIClcclxuICAgIGlmIChjaGlsZHJlbklkcy5sZW5ndGggPT09IDApIHJldHVyblxyXG5cclxuICAgIGxldCBzcGxpdEh0dHBSZXF1ZXN0cyA9IFtdXHJcblxyXG4gICAgaWYgKGNoaWxkcmVuSWRzLmxlbmd0aCA+IDUwKSB7XHJcbiAgICAgIC8vIHNwbGl0IGludG8gNSUsIDE1JSwgNDAlLCA0MCUgKDUlIGZvciB0aGUgaGlnaCBwcmlvcml0eSBjaGlsZHJlbjogdGhlIG9uZXMgd2l0aCBsb3dlciBtaW5EZXB0aClcclxuICAgICAgY29uc3Qgc3BsaXRCZWZvcmVDYWNoZUNoZWNrID0gW1tdLCBbXSwgW10sIFtdXVxyXG4gICAgICBsZXQgY3J0Q2hpbGRJbmRleCA9IDBcclxuXHJcbiAgICAgIGZvciAoOyBjcnRDaGlsZEluZGV4IDwgMC4wNSAqIGNoaWxkcmVuSWRzLmxlbmd0aDsgY3J0Q2hpbGRJbmRleCsrKSB7XHJcbiAgICAgICAgc3BsaXRCZWZvcmVDYWNoZUNoZWNrWzBdLnB1c2goY2hpbGRyZW5JZHNbY3J0Q2hpbGRJbmRleF0pXHJcbiAgICAgIH1cclxuICAgICAgZm9yICg7IGNydENoaWxkSW5kZXggPCAwLjIgKiBjaGlsZHJlbklkcy5sZW5ndGg7IGNydENoaWxkSW5kZXgrKykge1xyXG4gICAgICAgIHNwbGl0QmVmb3JlQ2FjaGVDaGVja1sxXS5wdXNoKGNoaWxkcmVuSWRzW2NydENoaWxkSW5kZXhdKVxyXG4gICAgICB9XHJcbiAgICAgIGZvciAoOyBjcnRDaGlsZEluZGV4IDwgMC42ICogY2hpbGRyZW5JZHMubGVuZ3RoOyBjcnRDaGlsZEluZGV4KyspIHtcclxuICAgICAgICBzcGxpdEJlZm9yZUNhY2hlQ2hlY2tbMl0ucHVzaChjaGlsZHJlbklkc1tjcnRDaGlsZEluZGV4XSlcclxuICAgICAgfVxyXG4gICAgICBmb3IgKDsgY3J0Q2hpbGRJbmRleCA8IGNoaWxkcmVuSWRzLmxlbmd0aDsgY3J0Q2hpbGRJbmRleCsrKSB7XHJcbiAgICAgICAgc3BsaXRCZWZvcmVDYWNoZUNoZWNrWzNdLnB1c2goY2hpbGRyZW5JZHNbY3J0Q2hpbGRJbmRleF0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdDYWNoZSBjaGVjayBmb3I6ICcsIHNwbGl0QmVmb3JlQ2FjaGVDaGVjaylcclxuXHJcbiAgICAgIGNvbnN0IG5ld0NoaWxkcmVuID0gW11cclxuICAgICAgbGV0IG5leHRDYWNoZVByb21pc2UgPSB0aGlzLmNhY2hlR2V0T2JqZWN0cyhzcGxpdEJlZm9yZUNhY2hlQ2hlY2tbMF0pXHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNhY2hlZE9iamVjdHMgPSBhd2FpdCBuZXh0Q2FjaGVQcm9taXNlXHJcbiAgICAgICAgaWYgKGkgPCAzKSBuZXh0Q2FjaGVQcm9taXNlID0gdGhpcy5jYWNoZUdldE9iamVjdHMoc3BsaXRCZWZvcmVDYWNoZUNoZWNrW2kgKyAxXSlcclxuXHJcbiAgICAgICAgY29uc3Qgc29ydGVkQ2FjaGVkS2V5cyA9IE9iamVjdC5rZXlzKGNhY2hlZE9iamVjdHMpLnNvcnQoXHJcbiAgICAgICAgICAoYSwgYikgPT4gcm9vdE9iai5fX2Nsb3N1cmVbYV0gLSByb290T2JqLl9fY2xvc3VyZVtiXVxyXG4gICAgICAgIClcclxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHNvcnRlZENhY2hlZEtleXMpIHtcclxuICAgICAgICAgIHlpZWxkIGAke2lkfVxcdCR7Y2FjaGVkT2JqZWN0c1tpZF19YFxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXdDaGlsZHJlbkZvckJhdGNoID0gc3BsaXRCZWZvcmVDYWNoZUNoZWNrW2ldLmZpbHRlcihcclxuICAgICAgICAgIChpZCkgPT4gIShpZCBpbiBjYWNoZWRPYmplY3RzKVxyXG4gICAgICAgIClcclxuICAgICAgICBuZXdDaGlsZHJlbi5wdXNoKC4uLm5ld0NoaWxkcmVuRm9yQmF0Y2gpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuZXdDaGlsZHJlbi5sZW5ndGggPT09IDApIHJldHVyblxyXG5cclxuICAgICAgaWYgKG5ld0NoaWxkcmVuLmxlbmd0aCA8PSA1MCkge1xyXG4gICAgICAgIC8vIHdlIGhhdmUgYWxtb3N0IGFsbCBvZiBjaGlsZHJlbiBpbiB0aGUgY2FjaGUuIGRvIG9ubHkgMSByZXF1ZXN0cyBmb3IgdGhlIHJlbWFpbmluZyBuZXcgY2hpbGRyZW5cclxuICAgICAgICBzcGxpdEh0dHBSZXF1ZXN0cy5wdXNoKG5ld0NoaWxkcmVuKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHdlIG5vdyBzZXQgdXAgdGhlIGJhdGNoZXMgZm9yIDQgaHR0cCByZXF1ZXN0cywgc3RhcnRpbmcgZnJvbSBgbmV3Q2hpbGRyZW5gIChhbHJlYWR5IHNvcnRlZCBieSBwcmlvcml0eSlcclxuICAgICAgICBzcGxpdEh0dHBSZXF1ZXN0cyA9IFtbXSwgW10sIFtdLCBbXV1cclxuICAgICAgICBjcnRDaGlsZEluZGV4ID0gMFxyXG5cclxuICAgICAgICBmb3IgKDsgY3J0Q2hpbGRJbmRleCA8IDAuMDUgKiBuZXdDaGlsZHJlbi5sZW5ndGg7IGNydENoaWxkSW5kZXgrKykge1xyXG4gICAgICAgICAgc3BsaXRIdHRwUmVxdWVzdHNbMF0ucHVzaChuZXdDaGlsZHJlbltjcnRDaGlsZEluZGV4XSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICg7IGNydENoaWxkSW5kZXggPCAwLjIgKiBuZXdDaGlsZHJlbi5sZW5ndGg7IGNydENoaWxkSW5kZXgrKykge1xyXG4gICAgICAgICAgc3BsaXRIdHRwUmVxdWVzdHNbMV0ucHVzaChuZXdDaGlsZHJlbltjcnRDaGlsZEluZGV4XSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICg7IGNydENoaWxkSW5kZXggPCAwLjYgKiBuZXdDaGlsZHJlbi5sZW5ndGg7IGNydENoaWxkSW5kZXgrKykge1xyXG4gICAgICAgICAgc3BsaXRIdHRwUmVxdWVzdHNbMl0ucHVzaChuZXdDaGlsZHJlbltjcnRDaGlsZEluZGV4XSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICg7IGNydENoaWxkSW5kZXggPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGNydENoaWxkSW5kZXgrKykge1xyXG4gICAgICAgICAgc3BsaXRIdHRwUmVxdWVzdHNbM10ucHVzaChuZXdDaGlsZHJlbltjcnRDaGlsZEluZGV4XSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHNtYWxsIG9iamVjdCB3aXRoIDw9IDUwIGNoaWxkcmVuLiBjaGVjayBjYWNoZSBhbmQgbWFrZSBvbmx5IDEgcmVxdWVzdFxyXG4gICAgICBjb25zdCBjYWNoZWRPYmplY3RzID0gYXdhaXQgdGhpcy5jYWNoZUdldE9iamVjdHMoY2hpbGRyZW5JZHMpXHJcbiAgICAgIGNvbnN0IHNvcnRlZENhY2hlZEtleXMgPSBPYmplY3Qua2V5cyhjYWNoZWRPYmplY3RzKS5zb3J0KFxyXG4gICAgICAgIChhLCBiKSA9PiByb290T2JqLl9fY2xvc3VyZVthXSAtIHJvb3RPYmouX19jbG9zdXJlW2JdXHJcbiAgICAgIClcclxuICAgICAgZm9yIChjb25zdCBpZCBvZiBzb3J0ZWRDYWNoZWRLZXlzKSB7XHJcbiAgICAgICAgeWllbGQgYCR7aWR9XFx0JHtjYWNoZWRPYmplY3RzW2lkXX1gXHJcbiAgICAgIH1cclxuICAgICAgY2hpbGRyZW5JZHMgPSBjaGlsZHJlbklkcy5maWx0ZXIoKGlkKSA9PiAhKGlkIGluIGNhY2hlZE9iamVjdHMpKVxyXG4gICAgICBpZiAoY2hpbGRyZW5JZHMubGVuZ3RoID09PSAwKSByZXR1cm5cclxuXHJcbiAgICAgIC8vIG9ubHkgMSBodHRwIHJlcXVlc3Qgd2l0aCB0aGUgcmVtYWluaW5nIGNoaWxkcmVuICggPD0gNTAgKVxyXG4gICAgICBzcGxpdEh0dHBSZXF1ZXN0cy5wdXNoKGNoaWxkcmVuSWRzKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFN0YXJ0aW5nIGh0dHAgcmVxdWVzdHMgZm9yIGJhdGNoZXMgaW4gYHNwbGl0SHR0cFJlcXVlc3RzYFxyXG5cclxuICAgIGNvbnN0IGRlY29kZXJzID0gW11cclxuICAgIGNvbnN0IHJlYWRlcnMgPSBbXVxyXG4gICAgY29uc3QgcmVhZFByb21pc2VzID0gW11cclxuICAgIGNvbnN0IHN0YXJ0SW5kZXhlcyA9IFtdXHJcbiAgICBjb25zdCByZWFkQnVmZmVycyA9IFtdXHJcbiAgICBjb25zdCBmaW5pc2hlZFJlcXVlc3RzID0gW11cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwbGl0SHR0cFJlcXVlc3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGRlY29kZXJzLnB1c2gobmV3IFRleHREZWNvZGVyKCkpXHJcbiAgICAgIHJlYWRlcnMucHVzaChudWxsKVxyXG4gICAgICByZWFkUHJvbWlzZXMucHVzaChudWxsKVxyXG4gICAgICBzdGFydEluZGV4ZXMucHVzaCgwKVxyXG4gICAgICByZWFkQnVmZmVycy5wdXNoKCcnKVxyXG4gICAgICBmaW5pc2hlZFJlcXVlc3RzLnB1c2goZmFsc2UpXHJcblxyXG4gICAgICB0aGlzLmZldGNoKHRoaXMucmVxdWVzdFVybENoaWxkcmVuLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAuLi50aGlzLmhlYWRlcnMsICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG9iamVjdHM6IEpTT04uc3RyaW5naWZ5KHNwbGl0SHR0cFJlcXVlc3RzW2ldKSB9KVxyXG4gICAgICB9KS50aGVuKChjcnRSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNydFJlYWRlciA9IGNydFJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKClcclxuICAgICAgICByZWFkZXJzW2ldID0gY3J0UmVhZGVyXHJcbiAgICAgICAgY29uc3QgY3J0UmVhZFByb21pc2UgPSBjcnRSZWFkZXIucmVhZCgpLnRoZW4oKHgpID0+IHtcclxuICAgICAgICAgIHgucmVxSWQgPSBpXHJcbiAgICAgICAgICByZXR1cm4geFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmVhZFByb21pc2VzW2ldID0gY3J0UmVhZFByb21pc2VcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICBjb25zdCB2YWxpZFJlYWRQcm9taXNlcyA9IHJlYWRQcm9taXNlcy5maWx0ZXIoKHgpID0+ICEheClcclxuICAgICAgaWYgKHZhbGlkUmVhZFByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGFsbCByZXF1ZXN0cyBmaW5pc2hlZFxyXG4gICAgICAgIGlmIChmaW5pc2hlZFJlcXVlc3RzLmV2ZXJ5KCh4KSA9PiB4KSkge1xyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2xlZXAgMTAgbXNcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxMClcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFdhaXQgZm9yIGRhdGEgb24gYW55IHJ1bm5pbmcgcmVxdWVzdFxyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgUHJvbWlzZS5hbnkodmFsaWRSZWFkUHJvbWlzZXMpXHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcclxuICAgICAgbGV0IHsgdmFsdWU6IGNydERhdGFDaHVuaywgZG9uZTogcmVhZGVyRG9uZSwgcmVxSWQgfSA9IGRhdGFcclxuICAgICAgZmluaXNoZWRSZXF1ZXN0c1tyZXFJZF0gPSByZWFkZXJEb25lXHJcblxyXG4gICAgICAvLyBSZXBsYWNlIHJlYWQgcHJvbWlzZSBvbiB0aGlzIHJlcXVlc3Qgd2l0aCBhIG5ldyBgcmVhZGAgY2FsbFxyXG4gICAgICBpZiAoIXJlYWRlckRvbmUpIHtcclxuICAgICAgICBjb25zdCBjcnRSZWFkUHJvbWlzZSA9IHJlYWRlcnNbcmVxSWRdLnJlYWQoKS50aGVuKCh4KSA9PiB7XHJcbiAgICAgICAgICB4LnJlcUlkID0gcmVxSWRcclxuICAgICAgICAgIHJldHVybiB4XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZWFkUHJvbWlzZXNbcmVxSWRdID0gY3J0UmVhZFByb21pc2VcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBUaGlzIHJlcXVlc3QgZmluaXNoZWQuIFwiRmx1c2ggYW55IG5vbi1uZXdsaW5lLXRlcm1pbmF0ZWQgdGV4dFwiXHJcbiAgICAgICAgaWYgKHJlYWRCdWZmZXJzW3JlcUlkXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICB5aWVsZCByZWFkQnVmZmVyc1tyZXFJZF1cclxuICAgICAgICAgIHJlYWRCdWZmZXJzW3JlcUlkXSA9ICcnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG5vIG90aGVyIHJlYWQgY2FsbHMgZm9yIHRoaXMgcmVxdWVzdFxyXG4gICAgICAgIHJlYWRQcm9taXNlc1tyZXFJZF0gPSBudWxsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghY3J0RGF0YUNodW5rKSBjb250aW51ZVxyXG5cclxuICAgICAgY3J0RGF0YUNodW5rID0gZGVjb2RlcnNbcmVxSWRdLmRlY29kZShjcnREYXRhQ2h1bmspXHJcbiAgICAgIGNvbnN0IHVucHJvY2Vzc2VkVGV4dCA9IHJlYWRCdWZmZXJzW3JlcUlkXSArIGNydERhdGFDaHVua1xyXG4gICAgICBjb25zdCB1bnByb2Nlc3NlZExpbmVzID0gdW5wcm9jZXNzZWRUZXh0LnNwbGl0KC9cXHJcXG58XFxufFxcci8pXHJcbiAgICAgIGNvbnN0IHJlbWFpbmRlclRleHQgPSB1bnByb2Nlc3NlZExpbmVzLnBvcCgpXHJcbiAgICAgIHJlYWRCdWZmZXJzW3JlcUlkXSA9IHJlbWFpbmRlclRleHRcclxuXHJcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiB1bnByb2Nlc3NlZExpbmVzKSB7XHJcbiAgICAgICAgeWllbGQgbGluZVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY2FjaGVTdG9yZU9iamVjdHModW5wcm9jZXNzZWRMaW5lcylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFJhd1Jvb3RPYmplY3QoKSB7XHJcbiAgICBjb25zdCBjYWNoZWRSb290T2JqZWN0ID0gYXdhaXQgdGhpcy5jYWNoZUdldE9iamVjdHMoW3RoaXMub2JqZWN0SWRdKVxyXG4gICAgaWYgKGNhY2hlZFJvb3RPYmplY3RbdGhpcy5vYmplY3RJZF0pIHJldHVybiBjYWNoZWRSb290T2JqZWN0W3RoaXMub2JqZWN0SWRdXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2godGhpcy5yZXF1ZXN0VXJsUm9vdE9iaiwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSlcclxuICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKVxyXG4gICAgdGhpcy5jYWNoZVN0b3JlT2JqZWN0cyhbYCR7dGhpcy5vYmplY3RJZH1cXHQke3Jlc3BvbnNlVGV4dH1gXSlcclxuICAgIHJldHVybiByZXNwb25zZVRleHRcclxuICB9XHJcblxyXG4gIHByb21pc2lmeUlkYlJlcXVlc3QocmVxdWVzdCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgcmVxdWVzdC5vbmNvbXBsZXRlID0gcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKHJlcXVlc3QucmVzdWx0KVxyXG4gICAgICByZXF1ZXN0Lm9uYWJvcnQgPSByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcilcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBhc3luYyBjYWNoZUdldE9iamVjdHMoaWRzKSB7XHJcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lbmFibGVDYWNoaW5nIHx8ICF3aW5kb3cuaW5kZXhlZERCKSB7XHJcbiAgICAgIHJldHVybiB7fVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJldCA9IHt9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpICs9IDUwMCkge1xyXG4gICAgICBjb25zdCBpZHNDaHVuayA9IGlkcy5zbGljZShpLCBpICsgNTAwKVxyXG5cclxuICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLmNhY2hlREJcclxuICAgICAgICAudHJhbnNhY3Rpb24oJ29iamVjdHMnLCAncmVhZG9ubHknKVxyXG4gICAgICAgIC5vYmplY3RTdG9yZSgnb2JqZWN0cycpXHJcbiAgICAgIGNvbnN0IGlkYkNoaWxkcmVuUHJvbWlzZXMgPSBpZHNDaHVuay5tYXAoKGlkKSA9PlxyXG4gICAgICAgIHRoaXMucHJvbWlzaWZ5SWRiUmVxdWVzdChzdG9yZS5nZXQoaWQpKS50aGVuKChkYXRhKSA9PiAoeyBpZCwgZGF0YSB9KSlcclxuICAgICAgKVxyXG4gICAgICBjb25zdCBjYWNoZWREYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwoaWRiQ2hpbGRyZW5Qcm9taXNlcylcclxuXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FjaGUgY2hlY2sgZm9yIDogXCIsIGlkc0NodW5rLmxlbmd0aCwgRGF0ZS5ub3coKSAtIHQwKVxyXG5cclxuICAgICAgZm9yIChjb25zdCBjYWNoZWRPYmogb2YgY2FjaGVkRGF0YSkge1xyXG4gICAgICAgIGlmICghY2FjaGVkT2JqLmRhdGEpXHJcbiAgICAgICAgICAvLyBub24tZXhpc3RlbnQgb2JqZWN0cyBhcmUgcmV0cmlldmVkIHdpdGggYHVuZGVmaW5lZGAgZGF0YVxyXG4gICAgICAgICAgY29udGludWVcclxuICAgICAgICByZXRbY2FjaGVkT2JqLmlkXSA9IGNhY2hlZE9iai5kYXRhXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmV0XHJcbiAgfVxyXG5cclxuICBjYWNoZVN0b3JlT2JqZWN0cyhvYmplY3RzKSB7XHJcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lbmFibGVDYWNoaW5nIHx8ICF3aW5kb3cuaW5kZXhlZERCKSB7XHJcbiAgICAgIHJldHVybiB7fVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0b3JlID0gdGhpcy5jYWNoZURCXHJcbiAgICAgIC50cmFuc2FjdGlvbignb2JqZWN0cycsICdyZWFkd3JpdGUnKVxyXG4gICAgICAub2JqZWN0U3RvcmUoJ29iamVjdHMnKVxyXG4gICAgZm9yIChjb25zdCBvYmogb2Ygb2JqZWN0cykge1xyXG4gICAgICBjb25zdCBpZEFuZERhdGEgPSBvYmouc3BsaXQoJ1xcdCcpXHJcbiAgICAgIHN0b3JlLnB1dChpZEFuZERhdGFbMV0sIGlkQW5kRGF0YVswXSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5wcm9taXNpZnlJZGJSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlZGl0cyBhbmQgbW9yZSBpbmZvOiBodHRwczovL2dpdGh1Yi5jb20vamFrZWFyY2hpYmFsZC9zYWZhcmktMTQtaWRiLWZpeFxyXG5mdW5jdGlvbiBzYWZhcmlGaXgoKSB7XHJcbiAgY29uc3QgaXNTYWZhcmkgPVxyXG4gICAgIW5hdmlnYXRvci51c2VyQWdlbnREYXRhICYmXHJcbiAgICAvU2FmYXJpXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXHJcbiAgICAhL0Nocm9tKGV8aXVtKVxcLy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxyXG5cclxuICAvLyBObyBwb2ludCBwdXR0aW5nIG90aGVyIGJyb3dzZXJzIG9yIG9sZGVyIHZlcnNpb25zIG9mIFNhZmFyaSB0aHJvdWdoIHRoaXMgbWVzcy5cclxuICBpZiAoIWlzU2FmYXJpIHx8ICFpbmRleGVkREIuZGF0YWJhc2VzKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcclxuXHJcbiAgbGV0IGludGVydmFsSWRcclxuXHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBjb25zdCB0cnlJZGIgPSAoKSA9PiBpbmRleGVkREIuZGF0YWJhc2VzKCkuZmluYWxseShyZXNvbHZlKVxyXG4gICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKHRyeUlkYiwgMTAwKVxyXG4gICAgdHJ5SWRiKClcclxuICB9KS5maW5hbGx5KCgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCkpXHJcbn1cclxuIl0sIm5hbWVzIjpbIk9iamVjdExvYWRlciIsImNvbnN0cnVjdG9yIiwic2VydmVyVXJsIiwic3RyZWFtSWQiLCJ0b2tlbiIsIm9iamVjdElkIiwib3B0aW9ucyIsImVuYWJsZUNhY2hpbmciLCJmdWxseVRyYXZlcnNlQXJyYXlzIiwiZXhjbHVkZVByb3BzIiwiZmV0Y2giLCJJTlRFUlZBTF9NUyIsIlRJTUVPVVRfTVMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsImNvbnNvbGUiLCJsb2ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZXJyb3IiLCJoZWFkZXJzIiwiQWNjZXB0IiwicmVxdWVzdFVybFJvb3RPYmoiLCJyZXF1ZXN0VXJsQ2hpbGRyZW4iLCJwcm9taXNlcyIsImludGVydmFscyIsImJ1ZmZlciIsImlzTG9hZGluZyIsInRvdGFsQ2hpbGRyZW5Db3VudCIsInRyYXZlcnNlZFJlZmVyZW5jZXNDb3VudCIsIm51bUNvbm5lY3Rpb25zIiwiY2FjaGVEQiIsImxhc3RBc3luY1BhdXNlIiwiRGF0ZSIsIm5vdyIsImV4aXN0aW5nQXN5bmNQYXVzZSIsInByZWZlcnJlZEZldGNoIiwiY3VycmVudEZldGNoIiwiYXN5bmNQYXVzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImRpc3Bvc2UiLCJmb3JFYWNoIiwiaSIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsImdldEFuZENvbnN0cnVjdE9iamVjdCIsIm9uUHJvZ3Jlc3MiLCJkb3dubG9hZE9iamVjdHNJbkJ1ZmZlciIsInJvb3RPYmplY3QiLCJnZXRPYmplY3QiLCJ0cmF2ZXJzZUFuZENvbnN0cnVjdCIsImZpcnN0IiwiZG93bmxvYWROdW0iLCJvYmoiLCJnZXRPYmplY3RJdGVyYXRvciIsInN0YWdlIiwiY3VycmVudCIsInRvdGFsIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiYXJyIiwiZWxlbWVudCIsImRlUmVmIiwicmVmZXJlbmNlZElkIiwicHVzaCIsInNwZWNrbGVfdHlwZSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsImNvbmNhdCIsImRhdGEiLCJpZ25vcmVkUHJvcCIsInByb3AiLCJpZCIsInByb21pc2UiLCJyZWplY3QiLCJlbGFwc2VkIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwidHJ5UmVzb2x2ZVByb21pc2UiLCJiaW5kIiwicCIsImZpbHRlciIsIndhcm4iLCJ0MCIsImNvdW50IiwibGluZSIsImdldFJhd09iamVjdEl0ZXJhdG9yIiwicHJvY2Vzc0xpbmUiLCJjaHVuayIsInBpZWNlcyIsInNwbGl0IiwiSlNPTiIsInBhcnNlIiwiaW5kZXhlZERCIiwic2FmYXJpRml4IiwiaWRiT3BlblJlcXVlc3QiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwicmVzdWx0IiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJwcm9taXNpZnlJZGJSZXF1ZXN0Iiwicm9vdE9iakpzb24iLCJnZXRSYXdSb290T2JqZWN0Iiwicm9vdE9iaiIsIl9fY2xvc3VyZSIsImNoaWxkcmVuSWRzIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJhIiwiYiIsInNwbGl0SHR0cFJlcXVlc3RzIiwic3BsaXRCZWZvcmVDYWNoZUNoZWNrIiwiY3J0Q2hpbGRJbmRleCIsIm5ld0NoaWxkcmVuIiwibmV4dENhY2hlUHJvbWlzZSIsImNhY2hlR2V0T2JqZWN0cyIsImNhY2hlZE9iamVjdHMiLCJzb3J0ZWRDYWNoZWRLZXlzIiwibmV3Q2hpbGRyZW5Gb3JCYXRjaCIsImRlY29kZXJzIiwicmVhZGVycyIsInJlYWRQcm9taXNlcyIsInJlYWRCdWZmZXJzIiwiZmluaXNoZWRSZXF1ZXN0cyIsIlRleHREZWNvZGVyIiwibWV0aG9kIiwiYm9keSIsInN0cmluZ2lmeSIsIm9iamVjdHMiLCJ0aGVuIiwiY3J0UmVzcG9uc2UiLCJjcnRSZWFkZXIiLCJnZXRSZWFkZXIiLCJjcnRSZWFkUHJvbWlzZSIsInJlYWQiLCJ4IiwicmVxSWQiLCJ2YWxpZFJlYWRQcm9taXNlcyIsImV2ZXJ5IiwiYW55IiwidmFsdWUiLCJjcnREYXRhQ2h1bmsiLCJkb25lIiwicmVhZGVyRG9uZSIsImRlY29kZSIsInVucHJvY2Vzc2VkVGV4dCIsInVucHJvY2Vzc2VkTGluZXMiLCJyZW1haW5kZXJUZXh0IiwicG9wIiwiY2FjaGVTdG9yZU9iamVjdHMiLCJjYWNoZWRSb290T2JqZWN0IiwicmVzcG9uc2UiLCJyZXNwb25zZVRleHQiLCJ0ZXh0IiwicmVxdWVzdCIsIm9uY29tcGxldGUiLCJvbnN1Y2Nlc3MiLCJvbmFib3J0Iiwib25lcnJvciIsImlkcyIsInJldCIsImlkc0NodW5rIiwic2xpY2UiLCJzdG9yZSIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJpZGJDaGlsZHJlblByb21pc2VzIiwibWFwIiwiZ2V0IiwiY2FjaGVkRGF0YSIsImFsbCIsImNhY2hlZE9iaiIsImlkQW5kRGF0YSIsInB1dCIsImlzU2FmYXJpIiwibmF2aWdhdG9yIiwidXNlckFnZW50RGF0YSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJkYXRhYmFzZXMiLCJ0cnlJZGIiLCJmaW5hbGx5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFZSxNQUFNQSxZQUFOLENBQW1CO0FBQ2hDO0FBQ0Y7QUFDQTtBQUNBO0FBQ0VDLEVBQUFBLFdBQVcsQ0FXUixJQUFBLEVBQUE7QUFBQSxJQVhTLElBQUE7QUFDVkMsTUFBQUEsU0FEVTtBQUVWQyxNQUFBQSxRQUZVO0FBR1ZDLE1BQUFBLEtBSFU7QUFJVkMsTUFBQUEsUUFKVTtBQUtWQyxNQUFBQSxPQUFPLEdBQUc7QUFDUkMsUUFBQUEsYUFBYSxFQUFFLElBRFA7QUFFUkMsUUFBQUEsbUJBQW1CLEVBQUUsS0FGYjtBQUdSQyxRQUFBQSxZQUFZLEVBQUUsRUFITjtBQUlSQyxRQUFBQSxLQUFLLEVBQUUsSUFBQTtBQUpDLE9BQUE7QUFMQSxLQVdULEdBQUEsSUFBQSxDQUFBO0FBQ0QsSUFBS0MsSUFBQUEs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
